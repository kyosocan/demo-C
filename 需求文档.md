# 家长社区应用需求文档

## 1. 项目概述

### 1.1 项目背景
家长社区应用是一个面向家长的教育资源共享和互助平台，旨在帮助家长分享学习资料、交流教育经验、解答育儿问题，共同促进孩子的成长。

### 1.2 项目目标
- 为家长提供优质的教育资源分享平台
- 建立家长之间的互助问答社区
- 提供多样化的学习工具（学习集、卡片等）
- 支持移动端访问，方便家长随时随地使用

### 1.3 技术栈
- **前端框架**: React 18 + TypeScript
- **构建工具**: Vite
- **样式方案**: Tailwind CSS
- **图标库**: Lucide React
- **路由**: React Router DOM

---

## 2. 需求概览

下表列出了核心功能需求的概览信息，包括功能名称、功能描述和优先级。

| 功能名称 | 功能描述 | 优先级 |
|---------|---------|--------|
| 广场页面（首页） | 作为应用的主入口，展示所有类型的内容（资料、问答、学习集）。采用两列网格布局，适配移动端屏幕。支持内容分类筛选（推荐、专项练习题、真题试卷、思维导图等）。 | P0 |
| 筛选 | 支持多维度筛选内容，包括年级、学科、难度、类型等多个筛选维度。筛选抽屉从底部弹出，支持多选和清除筛选。 | P0 |
| 搜索 | 支持全局搜索内容，包含搜索首页和搜索结果页两个界面。搜索首页显示搜索历史和热门推荐，搜索结果页支持排序和筛选。 | P0 |
| 内容详情页 | 展示内容的完整信息，包括资料详情页、问答详情页、学习集详情页。支持查看详情、下载、编辑、删除、分享等操作。 | P0 |
| 文件管理页 | 展示资料包含的文件列表，支持文件下载、预览、转存到学习空间、添加到今日作业、打印等操作。 | P0 |
| 发帖操作抽屉 | 提供多种发帖入口，从底部弹出操作抽屉，支持从相册选择、打开相机、写想法（文字）等选项。 | P0 |
| 写想法页面 | 允许用户输入文字内容，提供多行文本输入框、字数统计，支持进入下一步选择配图。 | P0 |
| 选择配图页面 | 允许用户为帖子选择配图，支持从相册选择、拍照、多图选择，提供图片预览和删除功能。 | P0 |
| 编辑帖子页面 | 确定封面后的帖子编辑页面，完善帖子信息并发布。支持添加标题、正文、文件夹，提供存草稿和发布功能。 | P0 |
| 个人资料页 | 展示用户个人信息和发布的内容，支持编辑个人信息和管理发布的内容。包含头像、用户名、统计信息、个性签名，以及我发过的、我收藏的、我赞过的、草稿等标签页。 | P0 |
| 消息中心 | 展示用户收到的消息和通知，包括课程消息和系统通知。支持查看消息详情、标记已读、删除消息等功能。 | P1 |

**优先级说明：**
- **P0（最高优先级）**：核心功能，必须实现
- **P1（高优先级）**：重要功能，建议实现

---

## 3. 功能需求列表

### 3.1 用户界面模块

| 需求编号 | 功能名称 | 功能描述 | 详细需求 | 优先级 | 截图 |
|---------|---------|---------|---------|--------|------|
| REQ-UI-001 | 广场页面（首页） | 作为应用的主入口，展示所有类型的内容（资料、问答、学习集）。采用两列网格布局，适配移动端屏幕。支持内容分类筛选（推荐、专项练习题、真题试卷、思维导图等）。 | 1. 顶部导航栏显示"社区广场"标题<br>2. 左侧显示用户头像入口，右侧显示搜索图标<br>3. 内容分类标签行，支持横向滚动<br>4. 筛选按钮，打开筛选抽屉<br>5. 内容卡片展示：标题、作者、头像、点赞数、学习人数、封面图<br>6. 支持点击卡片查看详情<br>7. 底部悬浮添加按钮（红色圆形按钮） | P0（最高） | ![广场页面截图](screenshots/REQ-UI-001-广场页面.png) |
| REQ-UI-002 | 资料页面 | 专门展示学习资料内容。支持按年级、学科、类型筛选。支持创建新资料。 | 1. 顶部导航栏：广场、资料、答疑、学习集四个标签<br>2. 筛选器行：年级筛选、学科筛选、"我的资料"入口<br>3. 内容分类标签：全部、专项练习题、真题试卷、思维导图、错题集<br>4. 两列网格布局展示资料卡片<br>5. 资料卡片显示：封面图、标题、作者、下载数、文件数<br>6. 浮动操作按钮：支持创建资料和提问<br>7. 点击资料卡片进入详情页 | P0 | ![资料页面截图](screenshots/REQ-UI-002-资料页面.png) |
| REQ-UI-003 | 答疑页面 | 展示家长提问和回答。支持提问和回答功能。 | 1. 顶部导航栏与其他页面保持一致<br>2. 筛选栏：学科筛选、类型筛选、"我的资料"入口<br>3. 列表布局展示问答卡片<br>4. 问答卡片显示：标题、描述、作者、评论数、标签<br>5. 浮动操作按钮：支持提问<br>6. 点击问答卡片进入详情页 | P0 | ![答疑页面截图](screenshots/REQ-UI-003-答疑页面.png) |
| REQ-UI-004 | 学习集页面 | 展示学习集（学习卡片集合）。支持创建新学习集。 | 1. 顶部导航栏与其他页面保持一致<br>2. 筛选栏：学科筛选、类型筛选、"我的资料"入口<br>3. 两列网格布局展示学习集卡片<br>4. 学习集卡片显示：标题、描述、卡片数量、学习人数、作者<br>5. 卡片背景采用渐变色设计<br>6. 浮动操作按钮：支持创建学习集和提问<br>7. 点击学习集卡片进入详情页 | P0 | ![学习集页面截图](screenshots/REQ-UI-004-学习集页面.png) |

### 3.2 内容管理模块

| 需求编号 | 功能名称 | 功能描述 | 详细需求 | 优先级 | 截图 |
|---------|---------|---------|---------|--------|------|
| REQ-CM-001 | 资料详情页 | 展示资料的完整信息。支持下载、编辑、删除、分享操作。 | 1. 显示资料封面图（大图）<br>2. 显示标题、作者信息、发布时间<br>3. 显示标签列表<br>4. 显示描述信息<br>5. 显示下载数、文件数等统计信息<br>6. 文件列表入口，点击查看文件列表<br>7. 操作按钮：下载、编辑（仅作者可见）、删除（仅作者可见）、分享（分享到微信）<br>8. 返回按钮 | P0 | ![资料详情页截图](screenshots/REQ-CM-001-资料详情页.png) |
| REQ-CM-002 | 问答详情页 | 展示问题的完整信息和回答列表。支持回答、编辑、删除、分享操作。 | 1. 显示问题标题<br>2. 显示问题描述<br>3. 显示作者信息、发布时间<br>4. 显示标签列表<br>5. 显示评论数<br>6. 回答列表展示<br>7. 回答输入框<br>8. 操作按钮：编辑（仅作者可见）、删除（仅作者可见）、分享<br>9. 返回按钮 | P0 | ![问答详情页截图](screenshots/REQ-CM-002-问答详情页.png) |
| REQ-CM-003 | 学习集详情页 | 展示学习集的完整信息和卡片列表。支持学习模式（翻转卡片、匹配游戏、测验游戏）。 | 1. 显示学习集标题<br>2. 显示描述信息<br>3. 显示作者信息、发布时间<br>4. 显示标签列表<br>5. 显示卡片数量、学习人数<br>6. 卡片列表展示<br>7. 学习模式选择：翻转卡片模式、匹配游戏模式、测验游戏模式<br>8. 操作按钮：编辑（仅作者可见）、删除（仅作者可见）、分享<br>9. 返回按钮 | P0 | ![学习集详情页截图](screenshots/REQ-CM-003-学习集详情页.png) |
| REQ-CM-004 | 创建资料 | 允许用户创建并上传学习资料。 | 1. 模态框形式展示<br>2. 必填项：标题、封面图（支持上传）、描述、标签选择（年级、学科、类型等）<br>3. 文件上传功能：支持多文件上传、支持PDF/图片等格式、显示上传进度、文件列表管理<br>4. 保存草稿功能<br>5. 发布按钮<br>6. 取消按钮 | P0 | ![创建资料截图](screenshots/REQ-CM-004-创建资料.png) |
| REQ-CM-005 | 创建问答 | 允许用户发布问题。 | 1. 模态框形式展示<br>2. 必填项：问题标题、问题描述、标签选择<br>3. 可选配图<br>4. 发布按钮<br>5. 取消按钮 | P0 | ![创建问答截图](screenshots/REQ-CM-005-创建问答.png) |
| REQ-CM-006 | 创建学习集 | 允许用户创建学习集（学习卡片集合）。 | 1. 模态框形式展示<br>2. 必填项：标题、描述、标签选择<br>3. 卡片管理：添加卡片（术语、定义、可选图片）、编辑卡片、删除卡片、卡片列表展示<br>4. 保存草稿功能<br>5. 发布按钮<br>6. 取消按钮 | P0 | ![创建学习集截图](screenshots/REQ-CM-006-创建学习集.png) |
| REQ-CM-007 | 编辑帖子 | 允许用户编辑自己发布的内容。 | 1. 全屏页面展示<br>2. 支持编辑标题、描述<br>3. 支持编辑标签<br>4. 支持编辑文件（资料类型）<br>5. 支持编辑卡片（学习集类型）<br>6. 保存草稿功能<br>7. 发布更新按钮<br>8. 返回按钮 | P1 | ![编辑帖子截图](screenshots/REQ-CM-007-编辑帖子.png) |
| REQ-CM-008 | 删除帖子 | 允许用户删除自己发布的内容。 | 1. 删除前弹出确认对话框<br>2. 删除后从列表中移除<br>3. 如果正在查看被删除的内容，自动返回上一页 | P1 | ![删除帖子截图](screenshots/REQ-CM-008-删除帖子.png) |

### 3.3 搜索与筛选模块

| 需求编号 | 功能名称 | 功能描述 | 详细需求 | 优先级 | 截图 |
|---------|---------|---------|---------|--------|------|
| REQ-SF-001 | 搜索功能 | 支持全局搜索内容，包含搜索首页和搜索结果页两个界面。 | **搜索首页：**<br>1. 顶部搜索栏：返回按钮、搜索输入框（圆角设计）、清除按钮、搜索按钮<br>2. 搜索历史：显示最近搜索记录、清空历史按钮、点击历史直接搜索<br><br>**搜索结果页：**<br>1. 深色主题顶部栏：返回按钮、深色背景搜索框、清除按钮、搜索按钮<br>2. 筛选按钮："全部"按钮带筛选图标，点击展开筛选面板<br>3. 筛选面板：排序依据（综合、最新、最多点赞、最多评论、最多收藏）、重置按钮、收起按钮<br>4. 搜索结果列表：两列瀑布流布局<br>5. 搜索结果卡片：封面图/配图（支持多种样式：纯文字背景、双色分栏、渐变背景）、标题描述、作者头像、作者名、发布时间、点赞数 | P0 | ![搜索功能截图](screenshots/REQ-SF-001-搜索功能.png) |
| REQ-SF-002 | 筛选功能 | 支持多维度筛选内容。 | 1. 筛选抽屉（从底部弹出）<br>2. 筛选维度：年级（小学、初中、高中、一年级到六年级）、学科（数学、语文、英语、物理、化学、生物、历史、地理、政治）、难度（基础、中等、提高、竞赛、入门、进阶）、类型（练习题、试卷、课件、视频、笔记、教材、真题试卷、思维导图、错题集、专项练习题）、其他（学习方法、教育心得、升学指导、心理辅导）<br>3. 多选支持<br>4. 已选标签展示<br>5. 清除筛选<br>6. 确认筛选按钮<br>7. 取消按钮 | P0 | ![筛选功能截图](screenshots/REQ-SF-002-筛选功能.png) |

### 3.4 用户中心模块

| 需求编号 | 功能名称 | 功能描述 | 详细需求 | 优先级 | 截图 |
|---------|---------|---------|---------|--------|------|
| REQ-UC-001 | 个人资料页 | 展示用户个人信息和发布的内容，支持编辑个人信息和管理发布的内容。 | **顶部区域：**<br>1. 渐变背景：使用现代渐变色彩（从靛蓝到紫色到粉色）<br>2. 装饰性圆形元素：增加视觉层次<br>3. 状态栏：显示系统状态信息<br><br>**顶部导航栏：**<br>1. 返回按钮（左侧）<br>2. 消息中心入口（右侧，铃铛图标）<br><br>**个人信息区域：**<br>1. 用户头像：<br>   - 圆形头像，带白色边框和阴影<br>   - 支持点击更换头像<br>   - 悬停显示编辑图标<br>   - 支持从本地选择图片上传<br>   - 头像加载失败时显示默认渐变背景和首字<br>2. 用户名：<br>   - 显示当前用户名（默认：131****0299）<br>   - 支持点击编辑按钮进入编辑模式<br>   - 编辑模式下显示输入框，支持实时修改<br>   - 按Enter键或失去焦点时保存<br>3. 统计信息：<br>   - 粉丝数（0粉丝）<br>   - 关注数（0关注）<br>   - 获赞数（0获赞）<br>   - 数字可点击查看详情<br>4. 个性签名：<br>   - 半透明背景卡片样式<br>   - 默认文字："写下个性签名,让学习的逆流中有更多懂你的人!"<br>   - 支持点击编辑按钮修改<br>   - 使用毛玻璃效果（backdrop-blur）<br><br>**标签页导航：**<br>1. 四个标签页：<br>   - "我发过的"：显示用户发布的内容<br>   - "我收藏的"：显示用户收藏的内容<br>   - "我赞过的"：显示用户点赞的内容<br>   - "草稿"：显示未发布的草稿内容，带数量角标<br>2. 标签页切换：<br>   - 点击标签切换内容<br>   - 当前标签显示红色下划线<br>   - 文字颜色区分选中/未选中状态<br>3. 右侧操作按钮：<br>   - "我发过的"标签下：选中帖子时显示更多操作按钮（三个点）<br>   - 其他标签下：显示搜索按钮<br><br>**内容展示区域：**<br>1. 布局：两列网格布局（grid-cols-2）<br>2. 内容卡片：<br>   - 使用PlazaContentCard组件<br>   - 显示封面图、标题、作者、点赞数、学习人数<br>   - 第一个卡片可设置为特殊样式（variant='special'）<br>   - 支持点击查看详情<br>3. 草稿卡片（仅草稿标签）：<br>   - 视频/图片类型：显示封面图、可选播放图标、标题、时间、删除按钮<br>   - 文字类型：粉色背景、引号装饰、文字内容、时间、删除按钮<br>   - 点击卡片进入编辑页面<br>   - 删除按钮点击后从列表移除<br>4. 空状态：<br>   - "我发过的"：显示文件图标和"还没有发布过帖子"<br>   - "我收藏的"：显示星星图标和"还没有收藏过帖子"<br>   - "我赞过的"：显示心形图标和"还没有赞过帖子"<br>   - "草稿"：显示文件图标和"还没有草稿"<br><br>**操作抽屉（仅"我发过的"标签）：**<br>1. 触发条件：点击帖子后点击更多操作按钮<br>2. 从底部弹出，带遮罩层<br>3. 操作选项：<br>   - 编辑：跳转到编辑帖子页面<br>   - 分享：分享帖子到其他平台<br>   - 删除：删除帖子（红色文字，带确认）<br>4. 取消按钮：关闭抽屉<br>5. 点击遮罩层也可关闭 | P0 | ![个人资料页截图](screenshots/REQ-UC-001-个人资料页.png) |
| REQ-UC-002 | 消息中心 | 展示用户收到的消息和通知，包括课程消息和系统通知。 | **顶部导航栏：**<br>1. 状态栏：显示系统状态信息<br>2. 导航栏：<br>   - 左侧：返回按钮<br>   - 中间：标题"消息中心"<br>   - 右侧：删除按钮（垃圾桶图标）<br>3. 样式：<br>   - 粘性定位（sticky top-0）<br>   - 半透明背景（bg-white/95）<br>   - 毛玻璃效果（backdrop-blur-sm）<br>   - 底部边框分隔<br><br>**消息列表：**<br>1. 消息类型：<br>   - 课程消息（icon='course'）：<br>     * 红色圆形背景<br>     * 播放图标+"课程"文字<br>     * 底部显示"课程"标签<br>   - 通知消息（icon='notification'）：<br>     * 红色圆形背景<br>     * 铃铛图标<br>2. 消息内容展示：<br>   - 消息标题：加粗显示，主要信息<br>   - 消息描述：详细内容，多行显示<br>   - 消息来源：显示"来自学习机"等来源信息<br>   - 消息时间：相对时间或日期（如"11月23日"）<br>3. 消息项样式：<br>   - 左侧图标区域（固定宽度）<br>   - 右侧内容区域（自适应宽度）<br>   - 消息项之间用细线分隔<br>   - 最后一项无底部分隔线<br>4. 消息交互：<br>   - 点击消息可查看详情（待实现）<br>   - 长按消息可显示更多操作（待实现）<br><br>**功能特性：**<br>1. 消息分类：<br>   - 课程消息：与学习课程相关的通知<br>   - 通知消息：系统通知、作业提醒等<br>2. 消息管理：<br>   - 删除按钮：批量删除消息（待实现）<br>   - 未读标识：未读消息显示红点（待实现）<br>   - 标记已读：点击消息后标记为已读（待实现）<br>3. 空状态：<br>   - 无消息时显示提示信息（待实现）<br><br>**数据示例：**<br>- 学习周报生成：全面了解宝贝本周的学习效果<br>- 学生开始写作业：进入作业空间提醒<br>- 学生完成作业：完成作业通知 | P1 | ![消息中心截图](screenshots/REQ-UC-002-消息中心.png) |

### 3.5 学习工具模块

| 需求编号 | 功能名称 | 功能描述 | 详细需求 | 优先级 | 截图 |
|---------|---------|---------|---------|--------|------|
| REQ-LT-001 | 翻转卡片学习 | 通过翻转卡片的方式学习学习集内容。 | 1. 卡片正面显示术语<br>2. 卡片背面显示定义<br>3. 点击卡片翻转<br>4. 左右滑动切换卡片<br>5. 显示进度（当前卡片/总卡片数）<br>6. 标记"已掌握"功能<br>7. 返回按钮 | P1 | ![翻转卡片学习截图](screenshots/REQ-LT-001-翻转卡片学习.png) |
| REQ-LT-002 | 匹配游戏 | 通过匹配游戏的方式学习学习集内容。 | 1. 术语和定义分别显示在两侧<br>2. 点击术语和定义进行匹配<br>3. 匹配成功显示正确提示<br>4. 匹配失败显示错误提示<br>5. 显示完成进度<br>6. 重新开始功能<br>7. 返回按钮 | P1 | ![匹配游戏截图](screenshots/REQ-LT-002-匹配游戏.png) |
| REQ-LT-003 | 测验游戏 | 通过测验的方式学习学习集内容。 | 1. 显示术语或定义<br>2. 提供多个选项<br>3. 选择答案<br>4. 显示正确答案和解释<br>5. 显示得分<br>6. 显示进度<br>7. 下一题按钮<br>8. 完成测验后显示总结<br>9. 重新开始功能<br>10. 返回按钮 | P1 | ![测验游戏截图](screenshots/REQ-LT-003-测验游戏.png) |

### 3.6 文件管理模块

| 需求编号 | 功能名称 | 功能描述 | 详细需求 | 优先级 | 截图 |
|---------|---------|---------|---------|--------|------|
| REQ-FM-001 | 文件列表页 | 展示资料包含的文件列表。 | 1. 显示资料标题<br>2. 文件列表展示：文件名、文件类型图标、文件大小、上传时间<br>3. 支持文件下载<br>4. 支持文件预览（PDF、图片等）<br>5. 文件操作菜单（点击文件右侧三个点）：转存到学习空间、添加到今日作业、打印<br>6. 返回按钮 | P0 | ![文件列表页截图](screenshots/REQ-FM-001-文件列表页.png) |
| REQ-FM-002 | 文件上传 | 支持上传文件到资料。 | 1. 文件选择器<br>2. 支持多文件选择<br>3. 支持的文件格式：PDF、图片（JPG、PNG等）、文档（DOC、DOCX等）<br>4. 文件大小限制提示<br>5. 上传进度显示<br>6. 上传失败重试<br>7. 文件列表管理（删除、重命名） | P0 | ![文件上传截图](screenshots/REQ-FM-002-文件上传.png) |

### 3.7 社交功能模块

| 需求编号 | 功能名称 | 功能描述 | 详细需求 | 优先级 | 截图 |
|---------|---------|---------|---------|--------|------|
| REQ-SO-001 | 点赞功能 | 支持对内容进行点赞。 | 1. 点赞按钮（心形图标）<br>2. 点击切换点赞状态<br>3. 显示点赞数<br>4. 点赞动画效果 | P1 | ![点赞功能截图](screenshots/REQ-SO-001-点赞功能.png) |
| REQ-SO-002 | 评论功能 | 支持对问答进行评论。 | 1. 评论输入框<br>2. 提交评论按钮<br>3. 评论列表展示：评论者头像、昵称、评论内容、评论时间<br>4. 支持回复评论<br>5. 显示评论数 | P1 | ![评论功能截图](screenshots/REQ-SO-002-评论功能.png) |
| REQ-SO-003 | 分享功能 | 支持分享内容到微信等平台。 | 1. 分享按钮<br>2. 生成分享链接<br>3. 复制链接到剪贴板<br>4. 分享提示信息 | P1 | ![分享功能截图](screenshots/REQ-SO-003-分享功能.png) |

### 3.8 发帖流程模块

| 需求编号 | 功能名称 | 功能描述 | 详细需求 | 优先级 | 截图 |
|---------|---------|---------|---------|--------|------|
| REQ-PF-001 | 发帖操作抽屉 | 提供多种发帖入口。 | 1. 从底部弹出的操作抽屉<br>2. 操作选项：从相册选择、打开相机、写想法（文字）<br>3. 取消按钮 | P0 | ![发帖操作抽屉截图](screenshots/REQ-PF-001-发帖操作抽屉.png) |
| REQ-PF-002 | 写想法页面 | 允许用户输入文字内容。 | 1. 文本输入框（多行）<br>2. 字数统计<br>3. 下一步按钮（进入选择配图）<br>4. 关闭按钮 | P0 | ![写想法页面截图](screenshots/REQ-PF-002-写想法页面.png) |
| REQ-PF-003 | 选择配图页面 | 允许用户为帖子选择配图。 | 1. 显示已输入的文字内容<br>2. 配图选择区域<br>3. 支持从相册选择<br>4. 支持拍照<br>5. 支持多图选择<br>6. 图片预览<br>7. 删除图片功能<br>8. 下一步按钮（进入编辑页面）<br>9. 返回按钮 | P0 | ![选择配图页面截图](screenshots/REQ-PF-003-选择配图页面.png) |
| REQ-PF-004 | 编辑帖子页面 | 确定封面后的帖子编辑页面，完善帖子信息并发布。 | **页面结构：**<br>1. 顶部导航栏：返回按钮<br>2. 配图预览区：显示已选配图卡片（带文字内容）、添加更多配图按钮（+号）<br>3. 标题输入框：占位文字"添加标题"<br>4. 正文输入框：占位文字"添加正文"、多行文本<br>5. 添加文件夹入口：点击展开文件夹编辑弹窗<br>6. 已添加的文件夹列表：显示文件夹名称和包含的文件、支持删除文件夹<br><br>**文件夹编辑弹窗：**<br>1. 从底部弹出<br>2. 文件夹名称输入<br>3. 导入文件选项：导入手机文件、导入微信文件<br>4. 已选文件列表：显示文件名、支持删除<br>5. 取消/确认按钮<br><br>**底部操作栏：**<br>1. 存草稿按钮<br>2. 发布笔记按钮（红色主按钮） | P0 | ![编辑帖子页面截图](screenshots/REQ-PF-004-编辑帖子页面.png) |

---

